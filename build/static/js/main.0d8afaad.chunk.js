(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(27)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),c=n.n(i),o=n(1);n(15);var u=function(e){var t="",n=new Function;return e.activeReturn&&(n=e.action,t=r.a.createElement("div",{className:"Header_return",onClick:function(){return n()}},r.a.createElement("i",{className:"fas fa-arrow-left"}))),e.action&&(n=e.action),r.a.createElement("section",{className:"Header"},t,r.a.createElement("h2",{className:"Header_title"},e.title))},s=n(2),l=n(3),h=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"create",value:function(){return new Promise((function(e,t){var n=window.indexedDB.open("ShinobiWorld",2);n.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("shinobis")||t.createObjectStore("shinobis",{keyPath:"id"})},n.onsuccess=function(t){var n=t.target.result;e(n)}}))}}]),e}(),m=n(7),f=n(6),d=function(){function e(t){Object(s.a)(this,e),this.db=t}return Object(l.a)(e,[{key:"add",value:function(e){var t=this,n=new E(e);return new Promise((function(e,a){var r=t.db.transaction(["shinobis"],"readwrite").objectStore("shinobis").add(n);r.oncomplete=function(t){e("shinobi registrado com sucesso")},r.onerror=function(e){a("erro ao registrar o shinobi")}}))}},{key:"get",value:function(e){var t=this;return new Promise((function(n,a){var r=t.db.transaction(["shinobis"],"readwrite").objectStore("shinobis").get(e);r.onsuccess=function(e){n(Object(m.a)(E,Object(f.a)(Object.values(r.result))))}}))}},{key:"load",value:function(){var e=this;return new Promise((function(t,n){var a=[],r=e.db.transaction(["shinobis"],"readonly").objectStore("shinobis").openCursor();r.onsuccess=function(e){var n=e.target.result;n?(a.push(Object(m.a)(E,Object(f.a)(Object.values(n.value)))),n.continue()):t(a)},r.onerror=function(e){t("erro ao carregar dados")}}))}},{key:"del",value:function(e){var t=this;return new Promise((function(n,a){var r=t.db.transaction(["shinobis"],"readwrite").objectStore("shinobis").delete(e);r.onsuccess=function(e){n(t.load())},r.onerror=function(e){a("N\xe3o foi possivel apagar o registro")}}))}}],[{key:"example",value:function(){return new E("Tanzan","Haruno")}}]),e}(),E=function(){function e(t,n,a,r,i,c,o,u,l,h,m,f,d){Object(s.a)(this,e),this._name=t||" ",this.id=n||Date.now(),this._cla=a||" ",this._position=r||" ",this._bio=i||"",this._FOR=c||5,this._RES=o||5,this._AGL=u||5,this._DEX=l||5,this._PER=h||5,this._INT=m||5,this._CAR=f||5,this._FOC=d||5,this._maxHP=void 0,this._actHP=void 0,this._maxCK=void 0,this._actCK=void 0,this._ckType=[]}return Object(l.a)(e,[{key:"updateMaxHP",value:function(){this._maxHP=Math.round(10*this.RES+5*this.FOR)}},{key:"updateMaxCK",value:function(){this._maxCK=Math.round(5*this._INT+this.PER)}},{key:"fullName",get:function(){return"".concat(this._name," ").concat(this._cla)}},{key:"FOR",get:function(){return this._FOR}},{key:"RES",get:function(){return this._RES}},{key:"AGL",get:function(){return this._AGL}},{key:"PER",get:function(){return this._PER}},{key:"DEX",get:function(){return this._DEX}},{key:"INT",get:function(){return this._INT}},{key:"CAR",get:function(){return this._CAR}},{key:"FOC",get:function(){return this._FOC}},{key:"rank",get:function(){return this.FOR+this.RES+this.AGL+this.DEX+this.INT+this.PER+this.CAR+this.FOC}}]),e}(),b=d,v=new(function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,[{key:"add",value:function(e){return h.create().then((function(e){return new b(e)})).then((function(t){return t.add(e)})).then((function(e){return console.log(e)}))}},{key:"load",value:function(){return h.create().then((function(e){return new b(e)})).then((function(e){return e.load()}))}},{key:"get",value:function(e){return h.create().then((function(e){return new b(e)})).then((function(t){return t.get(e)}))}},{key:"del",value:function(e){return h.create().then((function(e){return new b(e)})).then((function(t){return t.del(e)}))}}]),e}());n(16);var p=function(e){return r.a.createElement("div",{className:"AddButton",onClick:function(){e.action()}},"+")};n(17);var g=function(e){var t=e.shinobi;return r.a.createElement("article",{className:"CharacterCard"},r.a.createElement("div",null,r.a.createElement("h3",{className:"CharacterCard_name"},t._name),r.a.createElement("p",{className:"CharacterCard_summary"},t._bio)),r.a.createElement("i",{className:"fas fa-trash"}))};n(18);var O=function(e){return r.a.createElement("div",{className:"TextInput"},r.a.createElement("label",{htmlFor:"ipt-name"},e.title),r.a.createElement("input",{id:"ipt-name",type:"text",onChange:function(t){e.text(t.target.value)}}))};n(19);var N=function(e){var t=e.style?"dark":"light",n=e.action?e.action:function(){};return r.a.createElement("button",{className:"Button "+t,onClick:function(e){e.preventDefault(),e.stopPropagation(),n()}},e.title)};n(20);var _=function(e){e.action&&e.action;var t=Object(a.useState)(""),n=Object(o.a)(t,2),i=n[0],c=n[1];return r.a.createElement("section",{className:"ModalAdd",onClick:function(t){"ModalAdd"==t.target.className&&e.close()}},r.a.createElement("form",{className:"ModalAdd_modal"},r.a.createElement(O,{title:"Primeiro Nome",text:c}),r.a.createElement(N,{title:"Criar",style:"dark",action:function(){e.addShinobi(i),e.close()}})))};var k=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),i=n[0],c=n[1],s=Object(a.useState)(!1),l=Object(o.a)(s,2),h=l[0],m=l[1];function f(){m(!h)}return Object(a.useEffect)((function(){v.load().then((function(e){JSON.stringify(i)!==JSON.stringify(e)&&c(e)}))})),r.a.createElement("div",{className:"CharacterList"},r.a.createElement(u,{title:"Personagens"}),r.a.createElement("ul",{className:"CharacterList_list"},i.map((function(t,n){return r.a.createElement("li",{onClick:function(n){n.target.classList.contains("fas")?v.del(t.id).then((function(e){return c(e)})):e.goToShinobiProfile(t.id)},key:n},r.a.createElement(g,{shinobi:t}))})),h&&r.a.createElement(_,{addShinobi:e.addShinobi,close:f})),r.a.createElement(p,{action:f}))},y=u;n(21);var C=function(e){return r.a.createElement("div",{className:"TextArea"},r.a.createElement("label",{htmlFor:e.id},e.title),r.a.createElement("textarea",{id:e.id,type:"text",placeholder:e.placeholder,rows:e.rows}))};n(22);var j=function(e){return r.a.createElement("section",{className:"SectionBox"},e.children)};n(23);var S=function(e){var t=e.shinobi,n=Object(a.useState)(t._bio),i=Object(o.a)(n,2),c=i[0],u=i[1];return r.a.createElement("section",{className:"General"},r.a.createElement(j,null,r.a.createElement(C,{title:"Apelido/titulo",id:"ipt-name",placeholder:"Relampago de Konoha",rows:"3"})),r.a.createElement(j,null,r.a.createElement("div",{className:"physical"},r.a.createElement("p",null,"FOR: ",t.FOR),r.a.createElement("p",null,"RES: ",t.RES),r.a.createElement("p",null,"AGL: ",t.AGL),r.a.createElement("p",null,"DEX: ",t.DEX)),r.a.createElement("div",{className:"spirit"},r.a.createElement("p",null,"INT: ",t.INT),r.a.createElement("p",null,"PER: ",t.PER),r.a.createElement("p",null,"CAR: ",t.CAR),r.a.createElement("p",null,"FOC: ",t.FOC))),r.a.createElement(j,{className:"card"},r.a.createElement("h4",null,"Bio"),r.a.createElement("textarea",{onChange:function(e){e.stopPropagation(),u(e.target.value)},defaultValue:c,name:"bio",id:"bio",cols:"30",rows:"10"})))};n(24);var R=function(e){return r.a.createElement("nav",{className:"Nav"},r.a.createElement("ul",null,e.pages.map((function(t,n){return r.a.createElement("li",{key:n,onClick:function(){e.setter(n)}},t)}))))};n(25);var w=function(e){var t=Object(a.useState)(0),n=Object(o.a)(t,2),i=n[0],c=n[1],u=[r.a.createElement(S,{shinobi:e.shinobi}),r.a.createElement("p",null,"cacha\xe7a")];return r.a.createElement("div",{className:"ShinobiProfile"},r.a.createElement(y,{title:e.shinobi.fullName,activeReturn:"true",action:e.goToCharacterList}),u[i],r.a.createElement(R,{pages:["General","Status","Techniques","Inventory"],setter:c}))};n(26);function P(){var e=Object(a.useState)(b.example()),t=Object(o.a)(e,2),n=t[0],i=t[1];var c=[r.a.createElement(k,{goToShinobiProfile:function(e){v.get(e).then((function(e){i(e),h(1)}))},addShinobi:v.add.bind(v)}),r.a.createElement(w,{shinobi:n,goToCharacterList:function(){h(0)}})],u=Object(a.useState)(0),s=Object(o.a)(u,2),l=s[0],h=s[1];return c[l]}var x=document.getElementById("root");c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),x)}],[[10,1,2]]]);
//# sourceMappingURL=main.0d8afaad.chunk.js.map